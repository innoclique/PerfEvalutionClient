<mat-card class="example-card">
    <mat-card-header>
      <mat-card-title>RESET YOUR PASSWORD</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="resetForm" class="example-form">
        <table class="example-full-width" cellspacing="0">

          <tr>
            <td>
                <mat-form-field appearance="fill">
                    <mat-label>Enter your old password</mat-label>
                    <input maxlength="15" matInput [type]="pswHide ? 'oldPassword' : 'text'" 
                    formControlName="oldPassword"  name="oldPassword" required>
                    <button mat-icon-button matSuffix (click)="pswHide = !pswHide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="pswHide">
                    <mat-icon>{{pswHide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    
                    <mat-error *ngIf="f.oldPassword.touched && f.oldPassword.invalid && f.oldPassword.errors.required"   >Old Password is mandatory. </mat-error>
                  
                  </mat-form-field>

            </td>
          </tr>

          <tr>
            <td>
                <mat-form-field appearance="fill">
                    <mat-label>Enter your new password</mat-label>
                    <input maxlength="15" matInput [type]="pswHide ? 'password' : 'text'"  (click)="onNewPasswordCick()"
                    formControlName="password"  name="password" required>
                    <button mat-icon-button matSuffix (click)="pswHide = !pswHide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="pswHide">
                    <mat-icon>{{pswHide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    
                    <!-- <mat-error *ngIf="f.password.touched && f.password.invalid && 
                    (  f.password.errors.confirmPattern)"  > {{passwordFarmat}} </mat-error> -->

                    <mat-success class="f-r text-warning" *ngIf='f.password.status == "VALID" && strength=="Weak" '  >Strength&#58; {{strength}}</mat-success>
                    <mat-success class="f-r text-info" *ngIf='f.password.status == "VALID" && strength=="Medium"  '  >Strength&#58; {{strength}}</mat-success>
                    <mat-success class="f-r text-success" *ngIf='f.password.status == "VALID" && strength=="Strong"  '  >Strength&#58; {{strength}}</mat-success>
                   
                  </mat-form-field>
                  <ng-container  *ngIf="  showValidations==true ">
                  <label  class="col align-l" [ngClass]="  !has8char ? 'text-danger' : 'text-success'" >
                    <mat-icon  class="float-l">{{has8char ? 'check_circle' : 'cancel'}}</mat-icon>
                    Must be at least 8 characters!
                  </label>

                  <label  class="col align-l" [ngClass]="  !hasNumber ? 'text-danger' : 'text-success'" >
                    <mat-icon class="float-l">{{hasNumber ? 'check_circle' : 'cancel'}}</mat-icon >
                    Must be at least one Number!
                  </label>
                  <label  class="col align-l" [ngClass]="  !hasLowercase ? 'text-danger' : 'text-success'" >
                    <mat-icon class="float-l">{{hasLowercase ? 'check_circle' : 'cancel'}}</mat-icon>
                    Must be at least one in Small Case!
                  </label>
                  <label  class="col align-l" [ngClass]="  !hasUppercase ? 'text-danger' : 'text-success'" >
                    <mat-icon class="float-l">{{hasUppercase ? 'check_circle' : 'cancel'}}</mat-icon>
                    Must be at least one in Capital Case !
                  </label>
                  <label  class="col align-l" [ngClass]="  !hasSpecialChar ? 'text-danger' : 'text-success'" >
                    <mat-icon class="float-l">{{hasSpecialChar ? 'check_circle' : 'cancel'}}</mat-icon>
                    Must be at least one of Special Characters(# $ _ -) 
                  </label>

                </ng-container>

            </td>
          </tr>
          <tr>
            <td>
                <mat-form-field appearance="fill" class="m-t-10">
                    <mat-label>Confirm Password</mat-label>
                    <input maxlength="15" matInput [type]="hide ? 'password' : 'text'" 
                    formControlName="confirm_password"  name="confirm_password" required>
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>

                    <mat-error *ngIf="f.confirm_password.touched && f.confirm_password.invalid && f.confirm_password.errors.required"   >Confirm Password is mandatory.               </mat-error>
                    <mat-error *ngIf="f.confirm_password.touched && f.confirm_password.invalid && f.confirm_password.errors.confirmedValidator"   > Password and Confirm Password must be match.             </mat-error>

                    <!-- <div *ngIf="f.password.touched && f.password.invalid" class="alert alert-danger">
                        <div *ngIf="f.password.errors.required">Password is required.</div>
                    </div> -->

                    <!-- <div *ngIf="f.confirm_password.touched && f.confirm_password.invalid" class="alert alert-danger">
                        <div *ngIf="f.confirm_password.errors.required">Password is required.</div>
                        <div *ngIf="f.confirm_password.errors.confirmedValidator">Password and Confirm Password must be match.</div>
                    </div> -->
                  </mat-form-field>

            </td>
          </tr>


       

        
      
      </table>
      </form>
      <mat-spinner [style.display]="showSpinner ? 'block' : 'none'"></mat-spinner>
    </mat-card-content>
    <mat-card-actions>
        
      <button [disabled]="!resetForm.valid"   mat-raised-button (click)="onSubmit()" color="primary">Submit</button>
    </mat-card-actions>
  </mat-card>



  